#!/bin/bash
# Written By Seeker for StormFish OS/Storm OS

id=$(echo $[($RANDOM % ($[10000 - 32000] + 1)) + 10000] )
echo "$id"
yad --plug="$id" --tabnum=1 --form \
--field="System Updates:FBTN" "xfce4-terminal  -e 'sudo pacman -Syyu'" \
--field="Aur Updates:FBTN" "xfce4-terminal -e 'yay -Syyu'" \
--field="Reserved:FBTN" "eom" &> /tmp/data1 &

yad --plug="$id" --tabnum=2 --form \
--field="Refresh Mirrors:FBTN" "xfce4-terminal -e 'sudo reflector --verbose -l 20 --sort rate --save /etc/pacman.d/mirrorlist'" \
--field="Arch Keyring Updater:FBTN" "xfce4-terminal -e 'sudo pacman -S archlinux-keyring'" \
--field="Reserved:FBTN" "eom" &> /tmp/data2 &

yad --plug="$id" --tabnum=3 --form \
--field="<b>Discord</b>":FBTN "xfce4-terminal -e 'sudo pacman -S discord --noconfirm'" \
--field="Reserved:FBTN" "eom" \
--field="<b>Install Steam (Native)</b>":fbtn "xfce4-terminal -e 'sudo pacman -S --noconfirm steam-native-runtime gamemode'" \
--field="<b>Install Heroic Launcher</b>":fbtn "xfce4-terminal -e 'sudo pacman -S --noconfirm heroic-games-launcher-bin gamemode'" \
--field="<b>Install Lutris Launcher</b>":fbtn "xfce4-terminal -e 'sudo pacman -S --noconfirm lutris gamemode'" \
--field="<b>Install ProtonGE Updater</b>":fbtn "xfce4-terminal -e 'sudo pacman -S --noconfirm proton-community-updater'" \
--field="<b>Install Mangohud/Goverlay</b>":fbtn "xfce4-terminal -e 'sudo pacman -S --noconfirm mangohud goverlay-bin'" \
--field="<b>Install Bottles Launcher</b>":fbtn "xfce4-terminal -e 'sudo pacman -S --noconfirm bottles'" \
--field="Reserved:FBTN" "eom" &> /tmp/data3 &

yad --notebook --key="$id" --center --tab-pos=left --width=480 --height=175 --tab="Updates" --tab="Maintenance" --tab="Programs and Games"  \
--title="StormFish OS and Storm OS Utilities Program" \
--text="Use this tool to Maintain and Upgrade your StormFish OS and or Storm OS" \
--justify=center \

# StormOS." --image=/usr/share/icons/scalable/apps/stormos.png"  \

case $? in
    0)
    exit;;
    1)
    exit;;
    70)
    exit;;
    252)
    exit;;
esac

# --columns="3"
# yad notebook key
    #key=$RANDOM

# system management tab
  # yad --plug=$key --tabnum=2 --form --columns=2 --editable --separator=':' \
   #     --text="<b></b>" \
    #    --field="<b>Mirrors Refresh</b>":fbtn "xfce4-terminal -e 'sudo reflector --verbose -l 20 --sort rate --save /etc/pacman.d/mirrorlist'" \
     #   --field="<b>Update StormFishOS Keyring</b>":fbtn "konsole -e sh -c 'sudo pacman -Syy ; sudo pacman -Syu'" \
      #      '50!10..100!1!0' > /dev/null | > /dev/null |\

    #yad --key=$key --tabnum=1 --form  --columns=2 --editable --separator=':' \
       # --text="<b></b>" \
        #--field="<b>System Updates</b>":fbtn "xfce4-terminal -e 'sudo pacman -Syyu --noconfirm'"  \
         #   '50!10..100!1!0' \
       # --field="<b>AUR Updates</b>":fbtn "xfce4-terminal -e 'sudo pacman -Ss discord'" \
        #    '55!11..101!1!1' \

   # yad --notebook --key=$key --center --tab-pos=left --tab="<b>Updates</b>" --tab="<b>Maintenance</b>" \
    #    --text="Use this tool to maintain your StormFish OS" \
     #   --title="StormFish OS Utilities" \
      #  --buttons-layout=spread \
      #  --button=Quit:1 \
      #  --width=480 --height=175 \
       # --justify=center \

        #--image=/usr/share/icons/scalable/apps/stormos.png  \

#--field="<b>System Updates</b>":fbtn "xfce4-terminal -e 'sudo pacman -Syyu --noconfirm'" \
#--field="<b>AUR Updates</b>":fbtn "xfce4-terminal -e 'yay -Syyu --noconfirm'" \
#--field="<b>Mirrors Refresh</b>":fbtn "xfce4-terminal -e 'sudo reflector --verbose -l 20 --sort rate --save /etc/pacman.d/mirrorlist'" \
#--field="<b>Update StormOS Keyring</b>":fbtn "konsole -e sh -c 'sudo pacman -Syy ; sudo pacman -Syu'" \
#--button=Exit:1

#archlinux-keyring --noconfirm
#"konsole -e sh -c 'free'" \
#yad --title "StormOS Maintenance" --form --columns=2 --width=480 --height=175 --text="Use this tool to maintain your #StormOS." --image=/usr/share/icons/scalable/apps/stormos.png  \
